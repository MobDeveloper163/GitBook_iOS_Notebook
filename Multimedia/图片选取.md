# 使用系统API获取图片

图片、视频和相机是用户的隐私数据，因此需要访问这些内容的时候，必须预先在Info.plist中配置隐私权限，描述清楚访问照片和相机的用途。这样在访问照片的时候，系统会向用户弹出提示框，并把相关权限描述展示给用户，只有用户同意之后，才能访问这些隐私数据。

具体的配置如下：

```xml
<!-- 录制音频的权限 -->
<key>NSMicrophoneUsageDescription</key>
<string>录制视频的同时需要录制声音</string>

<!-- 访问照片库的权限 -->
<key>NSPhotoLibraryUsageDescription</key>
<string>获取图片</string>

<!-- 使用相机的权限 -->
<key>NSCameraUsageDescription</key>
```

苹果为我们提供了访问系统相册和相机的类 —— UIImagePickerController类，这个类封装了从照片库图片选取和相机拍摄照片的功能。创建UIImagePickerController的实例非常简单，只要使用`[UIImagePickerController new]`就可以获取到该类的实例。



可以从三种图片源获取图片，三个源分别是
* UIImagePickerControllerSourceTypeCamera（相机）
* UIImagePickerControllerSourceTypeSavedPhotosAlbum（相册）
* UIImagePickerControllerSourceTypePhotoLibrary（图片库）

但是在使用这三种源获取的图片的时候，需要先判断当前的源是否可用。

```

```

