# Core Data 是什么？

Core Data是一个框架，它使得开发者能够将数据当作对象来操作，而不在乎数据在磁盘中的存储方式。

由Core Data提供的数据对象叫做托管对象（managed object）。而Core Data本身则位于应用程序和持久化存储区（persistent store）之间。

持久化存储区是个通用术语，指的是像SQLite数据库、XML文件（iOS不支持这种方式）捉着binary store(又叫atomic store)这种数据文件。还有一种In-Memory Store，并不持久存储的，也就是底层硬件重启之后，数据不会保留。但是开发者使用它管理数据的时候可以享受Core Data的所有优点，诸如变更管理和数据验证等，效率自然相当高。

为了把数据从托管对象映射到持久化存储区域，Core Data需要使用托管对象模型，可以通过对象图配置应用程序的数据结构。对象图里的对象是实体，实体用于制作自定义的托管对象。有了托管对象，就可以在OC中操作它们而无须写SQL代码了。

所有托管对象都必须位于托管对象上下文（managed object context）里面，而托管对象上下文位于高速易失性存储器中，也就是RAM中。原因之一就是在磁盘与RAM之间传输数据时会有开销。磁盘读写速度比RAM慢得多，所以不应该频繁访问它。而有了托管对象上下文之后，对于原来需要读取磁盘才能获取到的数据，现在只需访问这个上下文，就可以非常迅速地获取到了。托管对象上下文的另一个功能是记录开发者对托管对象所做的修改，以提供完整的撤销与重做支持。

下图描述了Core Data的几个核心概念：
![Core Data 概览](/assets/01-core data核心概念.png)

Core Data 是一个模型层的技术。Core Data 帮助你建立代表程序状态的模型层。Core Data 也是一种持久化技术，它能将模型对象的状态持久化到磁盘，但它最重要的特点是：Core Data 不仅是一个加载、保存数据的框架，它还能和内存中的数据很好的共事。

还有一点要注意：Core Data 是完全独立于任何 UI 层级的框架。它是作为模型层框架被设计出来的。